<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: components/sidebar.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: components/sidebar.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import Container from 'react-bootstrap/Container';
import Nav from 'react-bootstrap/Nav';
import Navbar from 'react-bootstrap/Navbar';
import NavDropdown from 'react-bootstrap/NavDropdown';
import Offcanvas from 'react-bootstrap/Offcanvas';
import React, {useState} from "react";
import './custom-sidebar.css'
import {useNavigate} from "react-router-dom";

/**
 * Komponent odpowiedzialny za renderowanie bocznego paska nawigacyjnego
 * @returns {Element} - Element do renderowania
 * @constructor
 */
function Sidebar() {
    /**
     * @type {boolean}
     */
    const expand = false;
    /**
     * @type {string}
     */
    const userName = localStorage.getItem('userName');
    const [text] = useState(userName || 'Nie zalogowano');
    /**
     * @type {string}
     */
    const pass = localStorage.getItem('pass');
    const [passStatus] = useState(pass || null);
    /**
     * @type {string}
     */
    const userRole = localStorage.getItem('ROLE');
    /**
     * @type {NavigateFunction}
     */
    const navigate = useNavigate();
    /**
     *
     */
    const handleLogout = () => {
        localStorage.clear();
        localStorage.setItem('ROLE', 'guest');
        console.log('Wyczyszczono localStorage');
    };
    /**
     * @param event
     */
    const handleClick = (event) => {
        event.preventDefault();

        handleLogout();
        navigate('/');
        window.location.reload();
    };


    let sidebarContent;
    if (userRole === 'client' || userRole === 'trainer') {
        sidebarContent = (
            &lt;>
                &lt;Nav.Link href="/profile" className="custom-sidebar-link">
                    &lt;img src="/images/person-circle.svg" alt="" width="60" height="24"/>
                    Profil
                &lt;/Nav.Link>
                &lt;Nav.Link href="/courses" className="custom-sidebar-link">
                    &lt;img src="/images/person-arms-up.svg" alt="" width="60" height="24"/>
                    Kursy&lt;/Nav.Link>
                &lt;Nav.Link href="/qr" className="custom-sidebar-link">
                    &lt;img src="/images/qr-code.svg" alt="" width="60" height="24"/>
                    Kod QR
                &lt;/Nav.Link>
                &lt;Nav.Link href="/checkout" className="custom-sidebar-link">
                    &lt;img src="/images/wallet.svg" alt="" width="60" height="24"/>
                    Opłać karnet
                &lt;/Nav.Link>
                {userRole === 'trainer' &amp;&amp; (
                    &lt;Nav.Link href="/addcourse" className="custom-sidebar-link">
                        &lt;img src="/images/plus-square.svg" alt="" width="60" height="24"/>
                        Dodaj nowy kurs
                    &lt;/Nav.Link>
                )}
            &lt;/>
        )
    }
    else if (userRole === 'manager'){
        sidebarContent = (
            &lt;>
                &lt;Nav.Link href="/report" className="custom-sidebar-link">
                    &lt;img src="/images/newspaper.svg" alt="" width="60" height="24"/>
                    Raport
                &lt;/Nav.Link>
            &lt;/>
        )
    }
    else {
        sidebarContent = (
            &lt;>
                &lt;Nav.Link href="/login" className="custom-sidebar-link">
                    &lt;img src="/images/door-open.svg" alt="" width="60" height="24"/>
                    Zaloguj
                &lt;/Nav.Link>
                &lt;Nav.Link href="/register" className="custom-sidebar-link">
                    &lt;img src="/images/clipboard.svg" alt="" width="60" height="24"/>
                    Dołącz
                &lt;/Nav.Link>
            &lt;/>
        )
    }

    return (
        &lt;>
            &lt;Navbar key={expand} expand={expand} className="custom-sidebar" style={{zIndex: 1000}}>
                &lt;Container fluid>
                    &lt;Navbar.Brand href="#" style={{fontSize: '1.5rem'}} className="custom-sidebar">
                        &lt;img src="/images/gymLogo.svg" alt="" width="230" height="50" style={{ marginLeft: '550px' }}/>
                    &lt;/Navbar.Brand>
                    &lt;Navbar.Toggle aria-controls={`offcanvasNavbar-expand-${expand}`} className="custom-sidebar"/>
                    &lt;Navbar.Offcanvas
                        id={`offcanvasNavbar-expand-${expand}`}
                        aria-labelledby={`offcanvasNavbarLabel-expand-${expand}`}
                        placement="end"
                    >
                        &lt;Offcanvas.Header closeButton>
                            &lt;Offcanvas.Title id={`offcanvasNavbarLabel-expand-${expand}`}>
                                &lt;p>
                                    &lt;div>
                                        &lt;center>
                                            &lt;br/>
                                            {text}
                                            &lt;br/>
                                            &lt;p style={{color: "white"}}>aaaaaaaaaaaaaaaaaaaaaaaaaaaaaa&lt;/p>
                                            {userRole === "guest" || userRole === 'manager' ||userRole === null ? null :
                                                &lt;PassStatusComponent passStatusString={passStatus}/>}
                                        &lt;/center>
                                    &lt;/div>
                                &lt;/p>

                            &lt;/Offcanvas.Title>
                        &lt;/Offcanvas.Header>


                        &lt;Offcanvas.Body>
                            &lt;Nav className="justify-content-end flex-grow-1 pe-3">
                                &lt;Nav.Link href="/" className="custom-sidebar-link">
                                    &lt;img src="/images/house.svg" alt="" width="60" height="24"/>
                                    Strona główna
                                &lt;/Nav.Link>

                                {sidebarContent}

                                &lt;NavDropdown.Divider/>
                                &lt;Nav.Link href="/" className="custom-sidebar-link" onClick={handleClick}>
                                    &lt;img src="/images/box-arrow-right.svg" alt="" width="60" height="24"/>
                                    Wyloguj się
                                &lt;/Nav.Link>

                            &lt;/Nav>

                        &lt;/Offcanvas.Body>
                    &lt;/Navbar.Offcanvas>
                &lt;/Container>
            &lt;/Navbar>

        &lt;/>
    );
}

export default Sidebar;

const PassStatusComponent = ({passStatusString}) => {
    const renderPassStatus = () => {
        if (passStatusString !== null) {
            const passStatusDate = new Date(passStatusString);
            const today = new Date();
            const isDateGreaterThanToday = passStatusDate > today;
            const dynamicText = isDateGreaterThanToday ? 'aktywny' : 'nie aktywny';
            const textStyle = {
                color: isDateGreaterThanToday ? 'green' : 'red',
            };

            return (
                &lt;span style={textStyle}>{dynamicText}&lt;/span>
            );
        } else {
            return (
                &lt;span style={{color: 'red'}}>nieważny&lt;/span>
            );
        }
    };

    return (
        &lt;div>
            Status karnetu: {renderPassStatus()}
        &lt;/div>
    );
};</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="AddCourse.html">AddCourse</a></li><li><a href="App.html">App</a></li><li><a href="Basic.html">Basic</a></li><li><a href="ChartComponent.html">ChartComponent</a></li><li><a href="Checkout.html">Checkout</a></li><li><a href="CourseCards.html">CourseCards</a></li><li><a href="Courses.html">Courses</a></li><li><a href="DelayedButton.html">DelayedButton</a></li><li><a href="HomePage.html">HomePage</a></li><li><a href="Login.html">Login</a></li><li><a href="Logout.html">Logout</a></li><li><a href="Profile.html">Profile</a></li><li><a href="Qr.html">Qr</a></li><li><a href="Register.html">Register</a></li><li><a href="Report.html">Report</a></li><li><a href="Sidebar.html">Sidebar</a></li><li><a href="Summary.html">Summary</a></li></ul><h3>Global</h3><ul><li><a href="global.html#BASE_URL">BASE_URL</a></li><li><a href="global.html#coupon">coupon</a></li><li><a href="global.html#dashboard">dashboard</a></li><li><a href="global.html#enroll">enroll</a></li><li><a href="global.html#generate">generate</a></li><li><a href="global.html#getCourses">getCourses</a></li><li><a href="global.html#getUsers">getUsers</a></li><li><a href="global.html#login">login</a></li><li><a href="global.html#newQr">newQr</a></li><li><a href="global.html#newcourse">newcourse</a></li><li><a href="global.html#qr">qr</a></li><li><a href="global.html#register">register</a></li><li><a href="global.html#verifyToken">verifyToken</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.2</a> on Sat Jan 13 2024 20:23:22 GMT+0100 (czas środkowoeuropejski standardowy)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
